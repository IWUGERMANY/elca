"undefined"!=typeof jQuery&&$(window).load(function(){jBlibs.App.init({debug:!1,updateHashUrlCssClass:"page",initialize:function(){},controllers:{bnbWater:{urls:/^\/bnb/,controls:{"a:not(.no-xhr):not([rel])":{click:function(e){return $(this).attr("href")}}},views:{"#content.bnb-water":"prepareContent","#content.bnb-4-1-4":"prepare414"},prepareContent:function($context){var self=this;$(".collapsible.close").each(function(){self.toggleSection(this,!0)}),$(".collapsible div.legend",$context).on("click",function(e){self.toggleSection($(this).closest(".bnb-section"))}),$(".bnb-section .form-section.kguAlt input",$context).on("change",function(){var $self=$(this),$section=$self.closest(".bnb-section");$self.is(":checked")&&0==$self.val()?($section.find(".alt-group").hide(),$section.find(".list-group").show()):($section.find(".alt-group").show(),$section.find(".list-group").hide(),$section.removeClass("collapsible"),$section.find("div.legend").off("click"))})},toggleSection:function(section,doNotToggleClass){var $section=$(section),$legend=$("div.legend",section),$state=$section.find("input.toggle-state");0<$("input.changed",$section).length?($legend.siblings(":not(div.totals)").each(function(){$(this).is("div.headline")||$(this).find("input.changed,input[type=submit]").length||$(this).toggle()}),$legend.css("color","red")):$legend.siblings(":not(div.totals,div.alt-group,.form-section.kguAlt)").toggle(),doNotToggleClass||$section.toggleClass("close"),$state.val($section.hasClass("close")?1:0)},prepare414:function($context){$(".element-types-container",$context).css("max-height",$(window).height()-$("#content").offset().top-150)}}}})});